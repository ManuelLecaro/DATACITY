{% extends 'visualization/base.html' %}
{% load static %}

{% block title%}RESCLIMA | USUARIOS{% endblock %}

{% block content %}
<div class="section">
	<!--start container-->
	<div class="container">
		<div id="horizontal-card" class="section">
			<button class="btn waves-effect waves-light green accent-6" type="button" onClick="window.location='/user/create';"><i class="material-icons left">person_add</i>Agregar Usuario</button>
			<div class="row">
				<div class="col s12 m12 l12">
					<div class="row">

						<div class="card-panel">
							{% if object_list %}
							<table class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%" id="my-table">
								<thead>
									<tr>
										<td><b>Cédula/Pasaporte</b></td>
										<td><b>Nombre</b></td>
										<td><b>Apellido</b></td>
										<td><b>Usuario</b></td>
										<td><b>Correo electrónico</b></td>
										<td><b>Teléfono</b></td>
										<td><b>Tipo de Usuario</b></td>
										<td><b>Acciones</b></td>
									</tr>
								</thead>
								<tbody>
									<tr>
										{% for user in object_list %}
											{% if user.username != 'system' %}
													<td>{{ user.identity_card }}</td>
													<td>{{ user.first_name }}</td>
													<td>{{ user.last_name }}</td>
													<td>{{ user.username }}</td>
													<td>{{ user.email }}</td>
													<td>{{ user.phone_number }}</td>
													<td>{{ user.get_user_type }}</td>
													<td>
															<a href="{% url 'user_show' user.id %}" style="color: #5c5f68;"><i class="material-icons">visibility</i></a>
															<a href="{% url 'user_update' user.id %}"><i class="material-icons">mode_edit</i></a>
															<a href="{% url 'user_delete' user.id %}" style="color: #FF5252;" ><i class="material-icons">delete</i></a>
													</td>
											{% endif %}
									</tr>
									{% endfor %}
								</tbody>
							</table>
							{% else %}
							<h3>No hay registros que mostrar</h3>
							{% endif %}
						</div>

					</div>
				</div>
			</div>
		</div>

	</div>
	<!--end container-->
</div>
{% endblock content %}
